if(typeof AdPlayerManager==="undefined"){var AdPlayerManager=(function(){var h=[];var c=[];var f=function(){return h};var e=function(j){h.push(j);b(j)};var i=function(j){c.push(j)};var g=function(k){for(var j=0;j<c.length;j++){if(c[j]==k){c.shift(j,1);return}}};var d=function(k){for(var j=0;j<h.length;j++){if(h[j].adDomElement()){if(h[j].adDomElement().id==k){return h[j]}}else{log("DOM element is not properly specified.","getPlayerById")}}return null};var a=function(n){if(!n){n="refDiv"}var m=new Date().getTime();var l=n+m;document.write('<div id="'+l+'" />');var j=document.getElementById(l).parentNode;while((j.nodeName.toLowerCase()!="div")||!AdPlayerManager.getAdPlayerById(j.id)){j=j.parentNode;parName=j.nodeName.toLowerCase();if((parName=="body")||(parName=="html")){break}}var k=AdPlayerManager.getAdPlayerById(j.id);if(k){return k}else{log("No AdPlayer found!");return null}};function b(l){var j=c.length;var m=0;var k=0;do{if(typeof c[k]=="function"){c[k](l)}if(c>0){m=j-c.length;j=c.length}else{j=0}if(m==0){k++}}while(k<j)}return{addAdPlayer:e,list:f,register:i,unregister:g,getAdPlayerById:d,getAdPlayerByRefId:a}})();log=function(b,a){if(typeof(console)!=="undefined"&&console!=null){if(a){console.log("AdPlayer("+a+"): "+b)}else{console.log("AdPlayer: "+b)}}};function URLRequest(a){this.url;if(a){this.url=a}this.load=function(){if(this.url){var c=document.createElement("img");c.src=(this.url);c.style.display="none";var b=document.getElementsByTagName("script")[0];log(this.url,"URLRequest");b.parentNode.insertBefore(c,b);b.parentNode.removeChild(c);delete c;delete b}else{log("URLRequest",'Parameter "url" is not defined.')}}}function PrivacyInfo(){this.adServer="";this.message="";this.url=""}var AdEvent=new Object();var defaultAdEvents=["LOAD","REMOVE","SHOW","HIDE","PROGRESS","TRACK","COUNT","CLICK","PRIVACY_CLICK","PRIVACY_OPEN","PRIVACY_CLOSE"];AdEvent.list=new Object();AdEvent.check=function(b){for(var a in AdEvent.list){if(AdEvent.list[a]==b){return true}}log("Ad Event type is not valid: "+b,"AdEvent");return false};AdEvent.map=function(a){AdEvent.list[a]="AdEvent."+a;AdEvent[a]="AdEvent."+a};for(var dae=0;dae<defaultAdEvents.length;dae++){AdEvent.map(defaultAdEvents[dae])}function PrivacyInfo(){this.adServer="";this.message="";this.url=""}function AdPlayer(a){var e;this.adDomElement=function(i){if(i){e=i}return e};e=a;var g=new Object();this.adEventListObj=function(){return g};var b=false;this.isLoaded=function(i){if(i){b=i}return b};var d=false;this.isPrivacyPanelEnabled=function(i){d=i;return d};var f=null;this.adWidth=function(i){if(i){f=i;this.adDomElement().style.width=f+"px"}return f};var c=null;this.adHeight=function(i){if(i){c=i;this.adDomElement().style.height=c+"px"}return c};var h=[];this.privacyInfoList=function(){return h};AdPlayerManager.addAdPlayer(this)}AdPlayer.prototype.addAdEvent=function(a,c){if(!AdEvent.check(a)){return}if(!this.adEventListObj()[a]){this.adEventListObj()[a]=[]}for(var b=0;b<this.adEventListObj()[a].length;b++){if(this.adEventListObj()[a][b]==c){return}}this.adEventListObj()[a].push(c)};AdPlayer.prototype.removeAdEvent=function(a,c){if(!AdEvent.check(a)){return}if(this.adEventListObj()[a]){for(var b=0;b<this.adEventListObj()[a].length;b++){if(this.adEventListObj()[a][b]==c){this.adEventListObj()[a].splice(b,1);if(this.adEventListObj()[a].length==0){delete this.adEventListObj()[a]}return}}}};AdPlayer.prototype.addTrackingPixel=function(a,b,d,c){if(!AdEvent.check(a)){return}if(c===undefined){c=true}if(d){this.addAdEvent(a,d)}if(b){defaultTrackCallBack=function(g){if(g){var e=b;var f=new URLRequest(e);f.load();if(!c){g.removeAdEvent(a,defaultTrackCallBack)}}return b};this.addAdEvent(a,defaultTrackCallBack)}else{log("Parameter 'url' must be defined","addTrackingEvent")}};AdPlayer.prototype.removeTrackingPixel=function(a,d,f){if(!AdEvent.check(a)){return}if(this.adEventListObj()[a]){var b=this.adEventListObj()[a].length;var e=0;var c=0;do{if(f){if(this.adEventListObj()[a][c]==f){this.adEventListObj()[a].splice(c,1);if(this.adEventListObj()[a].length==0){delete this.adEventListObj()[a]}return}}if(d){if(this.adEventListObj()[a][c](null)){if(this.adEventListObj()[a][c](null)==d){this.adEventListObj()[a].splice(c,1);if(this.adEventListObj()[a].length==0){delete this.adEventListObj()[a];return}}}}if(this.adEventListObj()[a]){e=b-this.adEventListObj()[a].length;b=this.adEventListObj()[a].length}else{b=0}if(e==0){c++}}while(c<b)}};AdPlayer.prototype.track=function(a,d){if(!AdEvent.check(a)){return}log(a,"track");if(this.adEventListObj()[a]){var b=this.adEventListObj()[a].length;var f=0;var c=0;do{this.adEventListObj()[a][c](this);if(this.adEventListObj()[a]){f=b-this.adEventListObj()[a].length;b=this.adEventListObj()[a].length}else{b=0}if(f==0){c++}}while(c<b)}if(d){var e=new URLRequest(d);e.load()}};AdPlayer.prototype.addPrivacyInfo=function(a,d,c){var b=new PrivacyInfo();b.adServer=a;b.message=d;b.url=c;this.privacyInfoList().push(b)};AdPlayer.prototype.privacyClickBtn;AdPlayer.prototype.enableAdChoice=function(){if(!this.isPrivacyPanelEnabled()){this.privacyClickBtn=document.createElement("button");this.privacyClickBtn.setAttribute("class","privacyButton");this.privacyClickBtn.innerHTML="Get Info";this.adDomElement().style.position="relative";this.adDomElement().appendChild(this.privacyClickBtn);var a=this;this.privacyClickBtn.onclick=function(){a.showPrivacyInfo()}}};AdPlayer.prototype.disableAdChoice=function(){if(this.isPrivacyPanelEnabled()){if(this.privacyClickBtn){this.adDomElement().removeChild(this.privacyClickBtn)}}};AdPlayer.prototype.privacyPanel;AdPlayer.prototype.showPrivacyInfo=function(){if(!this.privacyPanel){this.privacyPanel=document.createElement("div");this.privacyPanel.setAttribute("class","privacyPanel");var d=document.createElement("ul");var b=document.createElement("button");var c=this;this.privacyPanel.appendChild(d);this.privacyPanel.appendChild(b);this.adDomElement().appendChild(this.privacyPanel);b.innerHTML="Close";for(var a=0;a<this.privacyInfoList().length;a++){var e=document.createElement("li");privacyClick=function(f){c.track(AdEvent.PRIVACY_CLICK);window.open(f)};e.innerHTML=this.privacyInfoList()[a].adServer+"<span>"+this.privacyInfoList()[a].message+"<br/><a href=\"javascript:privacyClick('"+this.privacyInfoList()[a].url+'\');" target="_self">Opt Out</a></span>';d.appendChild(e)}this.isPrivacyPanelEnabled(true);b.onclick=function(){c.hidePrivacyInfo()};this.track(AdEvent.PRIVACY_OPEN)}};AdPlayer.prototype.hidePrivacyInfo=function(){if(this.privacyPanel){this.isPrivacyPanelEnabled(false);this.adDomElement().removeChild(this.privacyPanel);this.privacyPanel=null;this.track(AdEvent.PRIVACY_CLOSE)}}};