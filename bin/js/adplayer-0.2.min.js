if(typeof AdPlayerManager==="undefined"){var AdPlayerManager=(function(){var h=[];var c=[];var f=function(){return h};var e=function(j){h.push(j);b(j)};var i=function(j){c.push(j)};var g=function(k){for(var j=0;j<c.length;j++){if(c[j]==k){c.shift(j,1);return}}};var d=function(k){for(var j=0;j<h.length;j++){if(h[j].adDomElement()){if(h[j].adDomElement().id==k){return h[j]}}else{log("DOM element is not properly specified.","getPlayerById")}}return null};var a=function(q,p){if(!q){q="refDiv"}var o=new Date().getTime();var n=q+o;document.write('<span id="'+n+'" style="display:none;"></span>');function j(v,u){var r=setInterval(s,100);var t=this;function s(w){if(document.getElementById(v)){console.log("found ===> "+v);clearInterval(r);var x=document.getElementById(v).parentNode;while((x.nodeName.toLowerCase()!="div")||!AdPlayerManager.getAdPlayerById(x.id)){x=x.parentNode;parName=x.nodeName.toLowerCase();if((parName=="body")||(parName=="html")){break}}var y=AdPlayerManager.getAdPlayerById(x.id);if(y){y.adDomElement().removeChild(document.getElementById(v));if(u){u(y)}return y}else{log("No AdPlayer found!")}}}}if(document.getElementById(n)){if(document.getElementById(n)){var k=document.getElementById(n).parentNode;while((k.nodeName.toLowerCase()!="div")||!AdPlayerManager.getAdPlayerById(k.id)){k=k.parentNode;parName=k.nodeName.toLowerCase();if((parName=="body")||(parName=="html")){break}}var l=AdPlayerManager.getAdPlayerById(k.id);if(l){l.adDomElement().removeChild(document.getElementById(n));if(p){p(l)}return l}else{log("No AdPlayer found!")}}}else{var m=j(n,p)}};function b(l){var j=c.length;var m=0;var k=0;do{if(typeof c[k]=="function"){c[k](l)}if(c>0){m=j-c.length;j=c.length}else{j=0}if(m==0){k++}}while(k<j)}return{addAdPlayer:e,list:f,register:i,unregister:g,getAdPlayerById:d,getAdPlayerByRefId:a}})();log=function(b,a){if(typeof(console)!=="undefined"&&console!=null){if(a){console.log("AdPlayer("+a+"): "+b)}else{console.log("AdPlayer: "+b)}}};function URLRequest(a){this.url;if(a){this.url=a}this.load=function(){if(this.url){var c=document.createElement("img");c.src=(this.url);c.style.display="none";var b=document.getElementsByTagName("script")[0];log(this.url,"URLRequest");b.parentNode.insertBefore(c,b);b.parentNode.removeChild(c);delete c;delete b}else{log("URLRequest",'Parameter "url" is not defined.')}}}function PrivacyInfo(){this.adServer="";this.message="";this.url=""}function AdEvent(c,d){var a="";this.type=function(f){if(f){a=f}return a};if(c){a=c}var b=new Object();this.data=function(f){if(f){b=f}return b};if(d){b=d}var e;this.player=function(f){if(f){e=f}return e}}var defaultAdEvents=["LOAD","REMOVE","SHOW","HIDE","PROGRESS","TRACK","COUNT","CLICK","PRIVACY_CLICK","PRIVACY_OPEN","PRIVACY_CLOSE"];AdEvent.list=new Object();AdEvent.check=function(b){for(var a in AdEvent.list){if(AdEvent.list[a]==b){return true}}log("Ad Event type is not valid: "+b,"AdEvent");return false};AdEvent.map=function(a){AdEvent.list[a]="AdEvent."+a;AdEvent[a]="AdEvent."+a};for(var dae=0;dae<defaultAdEvents.length;dae++){AdEvent.map(defaultAdEvents[dae])}function PrivacyInfo(){this.adServer="";this.message="";this.url=""}function AdPlayer(a){var e;this.adDomElement=function(i){if(i){e=i}return e};e=a;var g=new Object();this.adEventListObj=function(){return g};var b=false;this.isLoaded=function(i){if(i){b=i}return b};var d=false;this.isPrivacyPanelEnabled=function(i){d=i;return d};var f=null;this.adWidth=function(i){if(i){f=i;this.adDomElement().style.width=f+"px"}return f};var c=null;this.adHeight=function(i){if(i){c=i;this.adDomElement().style.height=c+"px"}return c};var h=[];this.privacyInfoList=function(){return h};AdPlayerManager.addAdPlayer(this)}AdPlayer.prototype.addAdEvent=function(a,c){if(!AdEvent.check(a)){return}if(!this.adEventListObj()[a]){this.adEventListObj()[a]=[]}for(var b=0;b<this.adEventListObj()[a].length;b++){if(this.adEventListObj()[a][b]==c){return}}this.adEventListObj()[a].push(c)};AdPlayer.prototype.removeAdEvent=function(a,c){if(!AdEvent.check(a)){return}if(this.adEventListObj()[a]){for(var b=0;b<this.adEventListObj()[a].length;b++){if(this.adEventListObj()[a][b]==c){this.adEventListObj()[a].splice(b,1);if(this.adEventListObj()[a].length==0){delete this.adEventListObj()[a]}return}}}};AdPlayer.prototype.addTrackingPixel=function(a,b,d){if(!AdEvent.check(a)){return}if(d===undefined){d=true}if(b){function c(e){var f=new URLRequest(b);f.load();if(!d){e.player().removeAdEvent(e.type(),c)}}c.url=b;c.repeat=d;this.addAdEvent(a,c)}else{log("Parameter 'url' must be defined","addTrackingEvent")}};AdPlayer.prototype.removeTrackingPixel=function(a,d){if(!AdEvent.check(a)){return}if(this.adEventListObj()[a]){var b=this.adEventListObj()[a].length;var e=0;var c=0;do{if(d){if(this.adEventListObj()[a][c].name=="defaultTrackCallBack"){if(this.adEventListObj()[a][c].url){if(this.adEventListObj()[a][c].url==d){this.adEventListObj()[a].splice(c,1);if(this.adEventListObj()[a].length==0){delete this.adEventListObj()[a];return}}}}}if(this.adEventListObj()[a]){e=b-this.adEventListObj()[a].length;b=this.adEventListObj()[a].length}else{b=0}if(e==0){c++}}while(c<b)}};AdPlayer.prototype.track=function(e,c){if(!AdEvent.check(e.type())){return}log(e.type(),"track");if(this.adEventListObj()[e.type()]){var a=this.adEventListObj()[e.type()].length;var f=0;var b=0;do{e.player(this);if(c){e.data().url=c}this.adEventListObj()[e.type()][b](e);if(this.adEventListObj()[e.type()]){f=a-this.adEventListObj()[e.type()].length;a=this.adEventListObj()[e.type()].length}else{a=0}if(f==0){b++}}while(b<a)}if(c){var d=new URLRequest(c);d.load()}};AdPlayer.prototype.addPrivacyInfo=function(a,d,c){var b=new PrivacyInfo();b.adServer=a;b.message=d;b.url=c;this.privacyInfoList().push(b)};AdPlayer.prototype.privacyClickBtn;AdPlayer.prototype.enableAdChoice=function(){if(!this.isPrivacyPanelEnabled()){this.privacyClickBtn=document.createElement("button");this.privacyClickBtn.setAttribute("class","privacyButton");this.privacyClickBtn.innerHTML="Get Info";this.adDomElement().style.position="relative";this.adDomElement().appendChild(this.privacyClickBtn);var a=this;this.privacyClickBtn.onclick=function(){a.showPrivacyInfo()}}};AdPlayer.prototype.disableAdChoice=function(){if(this.isPrivacyPanelEnabled()){if(this.privacyClickBtn){this.adDomElement().removeChild(this.privacyClickBtn)}}};AdPlayer.prototype.privacyPanel;AdPlayer.prototype.showPrivacyInfo=function(){if(!this.privacyPanel){this.privacyPanel=document.createElement("div");this.privacyPanel.setAttribute("class","privacyPanel");var d=document.createElement("ul");var b=document.createElement("button");var c=this;this.privacyPanel.appendChild(d);this.privacyPanel.appendChild(b);this.adDomElement().appendChild(this.privacyPanel);b.innerHTML="Close";for(var a=0;a<this.privacyInfoList().length;a++){var e=document.createElement("li");privacyClick=function(f){var g=new Object();g.url=f;c.track(new AdEvent(AdEvent.PRIVACY_CLICK,g));window.open(f)};e.innerHTML=this.privacyInfoList()[a].adServer+"<span>"+this.privacyInfoList()[a].message+"<br/><a href=\"javascript:privacyClick('"+this.privacyInfoList()[a].url+'\');" target="_self">Opt Out</a></span>';d.appendChild(e)}this.isPrivacyPanelEnabled(true);b.onclick=function(){c.hidePrivacyInfo()};this.track(new AdEvent(AdEvent.PRIVACY_OPEN))}};AdPlayer.prototype.hidePrivacyInfo=function(){if(this.privacyPanel){this.isPrivacyPanelEnabled(false);this.adDomElement().removeChild(this.privacyPanel);this.privacyPanel=null;this.track(new AdEvent(AdEvent.PRIVACY_CLOSE))}}};